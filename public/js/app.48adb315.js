(function(e){function t(t){for(var s,o,a=t[0],c=t[1],l=t[2],d=0,v=[];d<a.length;d++)o=a[d],n[o]&&v.push(n[o][0]),n[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(v.length)v.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],s=!0,a=1;a<i.length;a++){var c=i[a];0!==n[c]&&(s=!1)}s&&(r.splice(t--,1),e=o(o.s=i[0]))}return e}var s={},n={app:0},r=[];function o(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=s,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(i,s,function(t){return e[t]}.bind(null,s));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=c;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},1:function(e,t){},"21bb":function(e,t,i){"use strict";var s=i("bcc9"),n=i.n(s);n.a},"23a4":function(e,t,i){e.exports=i.p+"img/wonder-woman.a2056398.jpg"},"24ea":function(e,t,i){e.exports=i.p+"img/glass.920ba837.png"},2987:function(e,t,i){"use strict";var s=i("5edc"),n=i.n(s);n.a},"29fb":function(e,t,i){},"375c":function(e,t,i){"use strict";var s=i("9ba4"),n=i.n(s);n.a},"39de":function(e,t,i){"use strict";var s=i("59e4"),n=i.n(s);n.a},"3bf6":function(e,t,i){"use strict";var s=i("4f04"),n=i.n(s);n.a},4480:function(e,t,i){"use strict";var s=i("4891"),n=i.n(s);n.a},4891:function(e,t,i){},"4d29":function(e,t,i){},"4d76":function(e,t,i){"use strict";var s=i("c085"),n=i.n(s);n.a},"4ee4":function(e,t,i){"use strict";var s=i("b396"),n=i.n(s);n.a},"4f04":function(e,t,i){},"55cb":function(e,t,i){"use strict";var s=i("b24a"),n=i.n(s);n.a},"569c":function(e,t,i){e.exports=i.p+"img/people.6d8e788a.png"},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var s=i("2b0e"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"header-wrap"},[i("header",[i("main-bar")],1)]),i("router-view")],1)},r=[],o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",{staticClass:"header-wrap"},[e.loggedInUser?i("div",{staticClass:"hello flex wrap space-between"},[i("span",{staticClass:"user-name"},[e._v("Hello "+e._s(e.loggedInUser.name)+" ")]),i("div",{staticClass:"login-logout"},[i("router-link",{attrs:{to:"/login"}},[e.loggedInUser._id?e._e():i("span",{staticClass:"log login"},[e._v("Login")])]),e.loggedInUser._id?i("router-link",{attrs:{to:"/user/details/"+e.loggedInUser._id}},[e.loggedInUser._id?i("span",{staticClass:"log profile"},[e._v("My Profile")]):e._e()]):e._e(),i("router-link",{attrs:{to:"/"}},[e.loggedInUser._id?i("span",{staticClass:"log logout",on:{click:e.logoutUser}},[e._v("Logout")]):e._e()])],1)]):e._e(),i("div",{attrs:{id:"nav"}},[i("router-link",{attrs:{to:"/"}},[i("span",{staticClass:"link"},[e._v("Home")])]),i("span",{staticClass:"line"},[e._v("    |    ")]),i("router-link",{attrs:{to:"/movies"}},[i("span",{staticClass:"link"},[e._v("Movies")])])],1)])},a=[],c=i("f499"),l=i.n(c),u=(i("06db"),i("bc3a")),d=i.n(u),v=d.a.create({withCredentials:!0});function f(){return v.get.apply(v,arguments)}function m(){return v.post.apply(v,arguments)}function h(){return v.put.apply(v,arguments)}function p(){return v.delete.apply(v,arguments)}function g(e){return"/".concat(e)}var w={get:f,post:m,put:h,delete:p,getUrl:g},C=w.getUrl("user"),b=function(e){return e.data},_={singup:A,getGuestUser:k,getById:x,login:I,addFollowUser:B,getLoggedInUser:R,logout:U},y="user connected",M=JSON.parse(localStorage.getItem(y));function R(){return M}function x(e){return w.get("".concat(C,"/").concat(e)).then(b)}function U(){return w.get("".concat(C,"/logout")).then(function(e){console.log("Loged out success"),console.log("RES IS ",e),localStorage.removeItem(USER_ON),M=null})}function A(e){return console.log("signup",e),w.post("".concat(C,"/singup"),e).then(function(e){M=e.data,localStorage.setItem(y,l()(M));var t=e.data;resolve(t)}).catch(function(e){return e})}function I(e){var t=w.put("".concat(C,"/login"),e);t.catch(function(e){console.log("Service Cought an Error - ",e)}),t.finally(function(){console.log("Done handling res")});var i=t.then(function(e){return console.log("Result- Data:",e.data),M=e.data,localStorage.setItem(y,l()(M)),e.data});return console.log("Done Sending the AJAX Request"),i}function B(e){var t=e.followedUser._id;return w.put("".concat(C,"/details/").concat(t),e)}function k(){return{name:"Guest",email:"",userId:"",userImg:"",dateCreated:0,rating:0,follow:{followedBy:[],followAfter:[]}}}var S={name:"mainBar",mounted:function(){if(!this.$store.state.usersModule.currUser){var e=_.getGuestUser();this.$store.dispatch({type:"usersModule/loadUser",user:e})}},computed:{loggedInUser:function(){if(this.$store.state.usersModule.currUser)return JSON.parse(l()(this.$store.state.usersModule.currUser))}},methods:{logoutUser:function(){this.$store.dispatch({type:"usersModule/logoutUser"})}}},E=S,O=(i("375c"),i("2877")),F=Object(O["a"])(E,o,a,!1,null,"728a6650",null),N=F.exports,j={components:{MainBar:N}},P=j,D=Object(O["a"])(P,n,r,!1,null,"6138243a",null),L=D.exports,$=i("8c4f"),T=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"home"},[i("section",{staticClass:"main-second screen"},[i("HomeMain2")],1),i("section",{staticClass:"main-first container"},[i("HomeMain1")],1),i("section",{staticClass:"header screen full-height"},[i("HomeHeader")],1),i("section",{staticClass:"about"},[i("About")],1)])},H=[],G=i("f820"),Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"movie-posters-container flex flex-col"},[s("div",{staticClass:"movie-poster olga"},[s("div",{staticClass:"zoom"},[s("img",{attrs:{src:i("23a4")},on:{click:function(t){return e.direct("5c9c7f63d44e15672c5de7ea")}}})]),e._m(0)]),s("div",{staticClass:"movie-poster natalia"},[s("div",{staticClass:"zoom"},[s("img",{attrs:{src:i("6b35")},on:{click:function(t){return e.direct("5c9c99cad44e15672c5de832")}}})]),e._m(1)]),s("div",{staticClass:"movie-poster omer"},[s("div",{staticClass:"zoom"},[s("img",{attrs:{src:i("f7a8")},on:{click:function(t){return e.direct("5c9c8037d44e15672c5de7eb")}}})]),e._m(2),e._m(3)])])},J=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pop-text"},[s("img",{attrs:{src:i("5778")}}),s("label",[e._v("The film gave me inspiration and strength to be who I am. Especially recommended for women!")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pop-text"},[s("img",{attrs:{src:i("f45d")}}),s("label",[e._v("I love a lot of movies, and this movie is one of the highlights.")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pop-text"},[s("img",{attrs:{src:i("9863")}}),s("label",[e._v("I laughed nonstop from this Ove! and learned a lot about love.")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"glass"},[s("img",{attrs:{src:i("24ea")}})])}],z={name:"homeHeader",data:function(){return{}},methods:{direct:function(e){this.$router.push("/movies/details/".concat(e))}}},Q=z,q=(i("65b7"),Object(O["a"])(Q,Y,J,!1,null,"3b3b7eec",null)),V=q.exports,W=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main-div"},[i("div",{staticClass:"poster-wrap"},[i("ul",{staticClass:"poster-list"},e._l(e.movies,function(e,t){return i("li",{key:t},[i("img",{attrs:{src:e}})])}),0)]),i("ul",{staticClass:"feature-list-grid"},e._l(e.features,function(t,s){return i("li",{key:s,staticClass:"flex"},[e._m(0,!0),i("p",[e._v(e._s(t))])])}),0)])},X=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon"},[s("img",{attrs:{src:i("895b")}})])}],K={name:"main1",data:function(){return{movies:["/img/movie-home/‏‏apollo11.jpg","/img/movie-home/‏‏titanic.jpg","/img/movie-home/‏‏Ish oushmo Ove.jpg","/img/movie-home//‏‏wonder-woman.jpg"],features:["Show some love for your favorite filmsShow some love for your favorite filmsShow some love for your favorite films, lists and reviews with a “like”","Write and share reviews, and follow friends and other members to read theirs","Rate each film on a five-star scale (with halves) to record and share your reaction","Compile and share lists of films on any topic and keep a watchlist of films to see"]}}},Z=K,ee=(i("4480"),Object(O["a"])(Z,W,X,!1,null,"5cb57fe0",null)),te=ee.exports,ie=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},se=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main-second flex space-center"},[s("div",{staticClass:"head-text"},[s("p",[e._v("Our Mission")]),s("p",[e._v("Reliable and Quality Reviews")]),s("label",[e._v("Choose your next movie")]),s("br"),s("label",[e._v("Make your decisions based on reliable reviews")])]),s("div",{staticClass:"bc-img"},[s("img",{attrs:{src:i("569c")}})])])}],ne=(i("de93"),{}),re=Object(O["a"])(ne,ie,se,!1,null,"fd3dd0f0",null),oe=re.exports,ae=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ce=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main-footer"},[s("img",{attrs:{src:i("d5f3")}})])}],le=(i("70c1"),{}),ue=Object(O["a"])(le,ae,ce,!1,null,"6bbad0e0",null),de=ue.exports,ve={name:"home",components:{About:G["default"],HomeHeader:V,HomeMain1:te,HomeMain2:oe,HomeFooter:de}},fe=ve,me=(i("21bb"),Object(O["a"])(fe,T,H,!1,null,null,null)),he=me.exports,pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{},[i("h2",[e._v("The Movie Gallery")]),i("movie-filter",{on:{filterd:e.doFilter}}),i("movie-list",{attrs:{movies:e.moviesToShow}})],1)},ge=[],we=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"list-section container-movies"},[i("transition-group",{staticClass:"movie-list clean-list",attrs:{name:"list",tag:"ul"}},e._l(e.movies,function(e){return i("li",{key:e._id,staticClass:"list-item"},[i("router-link",{attrs:{to:"/movies/details/"+e._id}},[i("movie-preview",{attrs:{movie:e}})],1)],1)}),0)],1)},Ce=[],be=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"movie"},[i("div",{staticClass:"movie-poster"},[i("img",{attrs:{src:e.movie.details.movieImg}})]),i("div",{staticClass:"movie-details"},[i("div",{staticClass:"movie-name"},[e._v(e._s(e.movie.details.name))]),i("div",{staticClass:"movie-year"},[e._v("("+e._s(e.movie.details.year)+")")]),i("div",{staticClass:"movie-rating"},[e._v(" 5 stars ")])])])},_e=[],ye={name:"moviePreview",props:{movie:Object}},Me=ye,Re=(i("f0a1"),Object(O["a"])(Me,be,_e,!1,null,"095f97c9",null)),xe=Re.exports,Ue={name:"movieList",props:{movies:Array},components:{MoviePreview:xe}},Ae=Ue,Ie=(i("4ee4"),Object(O["a"])(Ae,we,Ce,!1,null,null,null)),Be=Ie.exports,ke=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("h3",[e._v("Search Your Movie")]),i("div",{staticClass:"filter-container flex flex-col"},[e._m(0),i("select",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.category,expression:"filterBy.category"}],staticClass:"filter-category",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.filterBy,"category",t.target.multiple?i:i[0])},e.emitFilter]}},[i("option",{attrs:{value:""}},[e._v("Category")]),i("option",{attrs:{value:"action"}},[e._v("Action")]),i("option",{attrs:{value:"comedy"}},[e._v("Comedy")]),i("option",{attrs:{value:"srama"}},[e._v("Drama")]),i("option",{attrs:{value:"family"}},[e._v("Family")]),i("option",{attrs:{value:"horror"}},[e._v("Horror")]),i("option",{attrs:{value:"romance"}},[e._v("Romance")])]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.sort,expression:"filterBy.sort"}],staticClass:"filter-by",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.filterBy,"sort",t.target.multiple?i:i[0])},e.emitFilter]}},[i("option",{attrs:{value:"topRated"}},[e._v("Top Rated")]),i("option",{attrs:{value:"year"}},[e._v("Year")]),i("option",{attrs:{value:"name"}},[e._v("Name")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.name,expression:"filterBy.name"}],staticClass:"filter-input",attrs:{type:"text",placeholder:"Find Movie By Name"},domProps:{value:e.filterBy.name},on:{input:[function(t){t.target.composing||e.$set(e.filterBy,"name",t.target.value)},e.emitFilter]}}),i("div",{staticClass:"filter-search"},[i("button",{staticClass:"search-button",attrs:{title:"Search"},on:{click:e.emitFilter}},[i("i",{staticClass:"fas fa-search"})])])])])},Se=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"filter-new"},[e._v("\n      New Movies\n      "),i("input",{attrs:{type:"checkbox",checked:"checked"}}),i("span",{staticClass:"checkmark"})])}],Ee={name:"reviewFilter",props:{},data:function(){return{filterBy:{name:"",category:"",isNew:!1,sort:"topRated"}}},methods:{emitFilter:function(){var e=JSON.parse(l()(this.filterBy));this.$emit("filterd",e)}},watch:{"filterBy.isNew":function(e,t){this.emitFilter()}}},Oe=Ee,Fe=(i("e5bd"),Object(O["a"])(Oe,ke,Se,!1,null,null,null)),Ne=Fe.exports,je={name:"movies",data:function(){return{}},created:function(){this.$store.state.moviesModule.movies.length||this.$store.dispatch({type:"moviesModule/loadMovies"})},computed:{moviesToShow:function(){return this.$store.state.moviesModule.movies}},methods:{doFilter:function(e){this.$store.dispatch({type:"moviesModule/loadMovies",filter:e})}},components:{MovieList:Be,MovieFilter:Ne}},Pe=je,De=(i("7948"),Object(O["a"])(Pe,pe,ge,!1,null,"bc445cee",null)),Le=De.exports,$e=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"details-section container-movies"},[e.currMovie?i("div",{staticClass:"movie-details flex"},[i("div",{staticClass:"movie-img"},[i("img",{attrs:{src:e.currMovie.details.movieImg}})]),i("div",{staticClass:"movie-table"},[i("table",{staticClass:"details-table"},[i("tr",[i("td",[e._v("Name")]),i("td",[e._v(e._s(e.currMovie.details.name))])]),i("tr",[i("td",[e._v("Year")]),i("td",[e._v(e._s(e.currMovie.details.year))])]),i("tr",[i("td",[e._v("Actors")]),i("td",e._l(e.currMovie.details.actors,function(t){return i("span",{key:t._id},[e._v("\n              "+e._s(t)+"\n              "),t!==e.currMovie.details.actors[e.currMovie.details.actors.length-1]?i("span",[e._v(",")]):e._e()])}),0)]),i("tr",[i("td",[e._v("Director")]),i("td",e._l(e.currMovie.details.director,function(t){return i("span",{key:t._id},[e._v("\n              "+e._s(t)+"\n              "),t!==e.currMovie.details.director[e.currMovie.details.director.length-1]?i("span",[e._v(",")]):e._e()])}),0)]),i("tr",[i("td",[e._v("Description")]),i("td",[e._v(e._s(e.currMovie.details.description))])])]),i("label",[e._v("rate the movie")]),i("StarRating",{attrs:{"show-rating":!1,increment:.5,"star-size":30},model:{value:e.selectedRate,callback:function(t){e.selectedRate=t},expression:"selectedRate"}}),e._v("\n      "+e._s(e.selectedRate)+"\n    ")],1)]):e._e(),i("movie-chat"),i("review-list",{attrs:{directAndId:e.detailsForShowReviews}})],1)},Te=[],He=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"list-section"},["movie"===e.directAndId.direct?i("div",{staticClass:"new-review"},[i("button",{staticClass:"btn-add-review",on:{click:e.toggleOpenNewReview}},[e._v("Add Your Review")]),e.isAddOpen?i("div",[i("form",{staticClass:"flex flex-col",on:{submit:function(t){return t.preventDefault(),e.onAddReview(t)}}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newReview.content.txt,expression:"newReview.content.txt"}],staticClass:"textarea-add-review",attrs:{rows:"6",cols:"50"},domProps:{value:e.newReview.content.txt},on:{input:function(t){t.target.composing||e.$set(e.newReview.content,"txt",t.target.value)}}}),i("button",{staticClass:"btn-send-review",attrs:{type:"submit"}},[e._v("Send Review")])])]):e._e()]):e._e(),"movie"===e.directAndId.direct?i("h3",[e._v(e._s(e.currMovie.details.name)+" Reaviews")]):e._e(),"user"===e.directAndId.direct?i("h3",{staticClass:"reviews-title"},[e._v("Reviews")]):e._e(),e.reviewsToShow?i("ul",{staticClass:"clean-list"},e._l(e.reviewsToShow,function(t){return i("li",{key:t._id},[i("div",{staticClass:"movie-review"},["movie"===e.directAndId.direct?i("div",{staticClass:"review-details flex flex-col align-center"},[i("router-link",{staticClass:"review-details-link flex flex-col",attrs:{to:"/user/details/"+t.user.userId}},[i("img",{staticClass:"img",attrs:{src:t.user.userImg}}),i("span",{staticClass:"name"},[e._v(e._s(t.user.userName))])]),i("div",{staticClass:"likes-btn flex"},[i("button",{on:{click:function(i){return e.clickedLike(t._id,e.currUser)}}},[i("i",{staticClass:"fas fa-thumbs-up"}),i("span",[e._v(e._s(t.rate.countLike.length))])]),i("button",{on:{click:function(i){return e.clickedDislike(t._id,e.currUser)}}},[i("i",{staticClass:"fas fa-thumbs-down"}),i("span",[e._v(e._s(t.rate.countDislike.length))])])])],1):e._e(),"user"===e.directAndId.direct?i("div",{staticClass:"review-details flex flex-col align-center"},[i("router-link",{staticClass:"review-details-link flex flex-col",attrs:{to:"/movies/details/"+t.movie.movieId}},[i("img",{staticClass:"img",attrs:{src:t.movie.movieImg}}),i("span",{staticClass:"name"},[e._v(e._s(t.movie.movieName))])])],1):e._e(),i("div",[e.currUser?i("review-preview",{attrs:{review:t,currUser:e.currUser},on:{onRemoveReview:e.removeReview,onEditReview:e.editReview}}):e._e()],1)])])}),0):e._e()])},Ge=[],Ye=(i("7f7f"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"div-reviews"},[e._v(e._s(e.txt))]),e.isEditOpen?i("input",{directives:[{name:"model",rawName:"v-model",value:e.txt,expression:"txt"}],staticClass:"div-reviews",attrs:{type:"text"},domProps:{value:e.txt},on:{input:function(t){t.target.composing||(e.txt=t.target.value)}}}):e._e(),e.currUser._id===e.review.user.userId?i("div",[e.isEditOpen?e._e():i("button",{staticClass:"btn",on:{click:function(t){return e.toggleEditReview(e.review)}}},[i("i",{staticClass:"fas fa-pencil-alt"})]),e.isEditOpen?i("button",{staticClass:"btn",on:{click:e.emitSaveReview}},[i("i",{staticClass:"far fa-save"})]):e._e(),e.isEditOpen?i("button",{staticClass:"btn",on:{click:function(t){return e.cancelEditReview(e.review)}}},[i("i",{staticClass:"far fa-window-close"})]):e._e(),i("button",{staticClass:"btn",on:{click:e.emitRemoveReview}},[i("i",{staticClass:"far fa-trash-alt"})])]):e._e()])}),Je=[],ze={name:"reviewPreview",props:{review:Object,currUser:Object},data:function(){return{isEditOpen:!1,txt:this.review.content.txt,tempTxt:null}},methods:{emitRemoveReview:function(){this.$emit("onRemoveReview",this.review)},emitSaveReview:function(){this.isEditOpen=!this.isEditOpen,this.review.content.txt=this.txt,this.$emit("onEditReview",this.review)},toggleEditReview:function(e){this.isEditOpen=!this.isEditOpen,this.tempTxt=this.txt},cancelEditReview:function(e){this.isEditOpen=!this.isEditOpen,this.txt=this.tempTxt}},created:function(){}},Qe=ze,qe=(i("a2f9"),Object(O["a"])(Qe,Ye,Je,!1,null,"6a9f1dde",null)),Ve=qe.exports,We=(i("5118"),{name:"reviewList",props:{directAndId:Object},data:function(){return{isAddOpen:!1,isSendReview:!1,newReview:{content:{txt:""}}}},created:function(){},destroyed:function(){this.$store.commit({type:"reviewsModule/setReviews",serverReviews:[]})},methods:{toggleOpenNewReview:function(){this.isAddOpen=!this.isAddOpen},onAddReview:function(){this.newReview.user={userId:this.currUser._id,userImg:this.currUser.userImg,userName:this.currUser.name},this.newReview.movie={movieId:this.currMovie._id,movieImg:this.currMovie.details.movieImg,movieName:this.currMovie.details.name},this.newReview.content.isEdit=!1,this.$store.dispatch({type:"reviewsModule/addReview",newReview:this.newReview}),this.isAddOpen=!1,this.isSendReview=!0,this.newReview={content:{txt:""}}},clickedLike:function(e,t){var i={reviewId:e,updateUser:t._id,rateDitection:"like"};this.$store.dispatch({type:"reviewsModule/updateRate",rateDetails:i})},clickedDislike:function(e,t){var i={reviewId:e,updateUser:t._id,rateDitection:"disLike"};this.$store.dispatch({type:"reviewsModule/updateRate",rateDetails:i})},removeReview:function(e){var t=e._id;this.$store.dispatch({type:"reviewsModule/removeReview",reviewId:t})},editReview:function(e){this.$store.dispatch({type:"reviewsModule/updateReviewTxt",reviewToEdit:e})}},computed:{reviewsToShow:function(){return this.$store.getters["reviewsModule/reviews"]},currMovie:function(){return this.$store.state.moviesModule.currMovie},currUser:function(){return this.$store.state.usersModule.currUser}},watch:{directAndId:function(e){e&&this.$store.dispatch({type:"reviewsModule/loadReviews",directAndId:e})}},mounted:function(){},components:{ReviewPreview:Ve}}),Xe=We,Ke=(i("39de"),Object(O["a"])(Xe,He,Ge,!1,null,"e30a7f6a",null)),Ze=Ke.exports,et=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["vue-star-rating",{"vue-star-rating-rtl":e.rtl},{"vue-star-rating-inline":e.inline}]},[i("div",{staticClass:"vue-star-rating",on:{mouseleave:e.resetRating}},[e._l(e.maxRating,function(t){return i("span",{key:t,class:[{"vue-star-rating-pointer":!e.readOnly},"vue-star-rating-star"],style:{"margin-right":e.margin+"px"}},[i("star",{attrs:{fill:e.fillLevel[t-1],size:e.starSize,points:e.starPoints,"star-id":t,step:e.step,"active-color":e.activeColor,"inactive-color":e.inactiveColor,"border-color":e.borderColor,"border-width":e.borderWidth,"rounded-corners":e.roundedCorners,rtl:e.rtl,glow:e.glow,"glow-color":e.glowColor},on:{"star-selected":function(t){return e.setRating(t,!0)},"star-mouse-move":e.setRating}})],1)}),e.showRating?i("span",{class:["vue-star-rating-rating-text",e.textClass]},[e._v(" "+e._s(e.formattedRating))]):e._e()],2)])},tt=[],it=(i("c5f6"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("svg",{staticClass:"vue-star-rating-star",attrs:{height:e.getSize,width:e.getSize,viewBox:e.viewBox},on:{mousemove:e.mouseMoving,click:e.selected}},[i("linearGradient",{attrs:{id:e.grad,x1:"0",x2:"100%",y1:"0",y2:"0"}},[i("stop",{attrs:{offset:e.getFill,"stop-color":e.rtl?e.inactiveColor:e.activeColor}}),i("stop",{attrs:{offset:e.getFill,"stop-color":e.rtl?e.activeColor:e.inactiveColor}})],1),i("filter",{attrs:{id:e.glowId,height:"130%",width:"130%",filterUnits:"userSpaceOnUse"}},[i("feGaussianBlur",{attrs:{stdDeviation:e.glow,result:"coloredBlur"}}),i("feMerge",[i("feMergeNode",{attrs:{in:"coloredBlur"}}),i("feMergeNode",{attrs:{in:"SourceGraphic"}})],1)],1),i("polygon",{directives:[{name:"show",rawName:"v-show",value:e.fill>1,expression:"fill > 1"}],attrs:{points:e.starPointsToString,fill:e.getGradId,stroke:e.glowColor,filter:"url(#"+this.glowId+")"}}),i("polygon",{attrs:{points:e.starPointsToString,fill:e.getGradId,stroke:e.getBorderColor,"stroke-width":e.border,"stroke-linejoin":e.roundedCorners?"round":"miter"}}),i("polygon",{attrs:{points:e.starPointsToString,fill:e.getGradId}})],1)}),st=[],nt=(i("6b54"),i("6c7b"),i("e814")),rt=i.n(nt),ot={name:"stars",data:function(){return{starPoints:[19.8,2.2,6.6,43.56,39.6,17.16,0,17.16,33,43.56],grad:"",glowId:""}},props:{fill:{type:Number,default:0},points:{type:Array,default:function(){return[]}},size:{type:Number,default:50},starId:{type:Number,required:!0},activeColor:{type:String,required:!0},inactiveColor:{type:String,required:!0},borderColor:{type:String,default:"#000"},borderWidth:{type:Number,default:0},roundedCorners:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1},glow:{type:Number,default:0},glowColor:{type:String,required:!1}},created:function(){this.starPoints=this.points.length?this.points:this.starPoints,this.calculatePoints(),this.grad=this.getRandomId(),this.glowId=this.getRandomId()},computed:{starPointsToString:function(){return this.starPoints.join(",")},getGradId:function(){return"url(#"+this.grad+")"},getSize:function(){var e=this.roundedCorners&&this.borderWidth<=0?rt()(this.size)-rt()(this.border):this.size;return rt()(e)+rt()(this.border)},getFill:function(){return this.rtl?100-this.fill+"%":this.fill+"%"},border:function(){return this.roundedCorners&&this.borderWidth<=0?6:this.borderWidth},getBorderColor:function(){return this.roundedCorners&&this.borderWidth<=0?this.fill<=0?this.inactiveColor:this.activeColor:this.borderColor},maxSize:function(){return this.starPoints.reduce(function(e,t){return Math.max(e,t)})},viewBox:function(){return"0 0 "+this.maxSize+" "+this.maxSize}},methods:{mouseMoving:function(e){this.$emit("star-mouse-move",{event:e,position:this.getPosition(e),id:this.starId})},getPosition:function(e){var t=.92*this.size,i=this.rtl?Math.min(e.offsetX,45):Math.max(e.offsetX,1),s=Math.round(100/t*i);return Math.min(s,100)},selected:function(e){this.$emit("star-selected",{id:this.starId,position:this.getPosition(e)})},getRandomId:function(){return Math.random().toString(36).substring(7)},calculatePoints:function(){var e=this;this.starPoints=this.starPoints.map(function(t){return e.size/e.maxSize*t+1.5*e.border})}}},at=ot,ct=(i("4d76"),Object(O["a"])(at,it,st,!1,null,"3ec9712f",null)),lt=ct.exports,ut={name:"stars-rating",data:function(){return{step:0,fillLevel:[],currentRating:0,selectedRating:0,ratingSelected:!1}},components:{star:lt},model:{prop:"rating",event:"rating-selected"},props:{increment:{type:Number,default:1},rating:{type:Number,default:0},roundStartRating:{type:Boolean,default:!0},activeColor:{type:String,default:"#ffd055"},inactiveColor:{type:String,default:"#d8d8d8"},maxRating:{type:Number,default:5},starPoints:{type:Array,default:function(){return[]}},starSize:{type:Number,default:50},showRating:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},textClass:{type:String,default:""},inline:{type:Boolean,default:!1},borderColor:{type:String,default:"#999"},borderWidth:{type:Number,default:0},roundedCorners:{type:Boolean,default:!1},padding:{type:Number,default:0},rtl:{type:Boolean,default:!1},fixedPoints:{type:Number,default:null},glow:{type:Number,default:0},glowColor:{type:String,default:"#fff"}},created:function(){this.step=100*this.increment,this.currentRating=this.rating,this.selectedRating=this.currentRating,this.createStars(this.roundStartRating)},methods:{setRating:function(e,t){if(!this.readOnly){var i=this.rtl?(100-e.position)/100:e.position/100;this.currentRating=(e.id+i-1).toFixed(2),this.currentRating=this.currentRating>this.maxRating?this.maxRating:this.currentRating,this.createStars(),t?(this.selectedRating=this.currentRating,this.$emit("rating-selected",this.selectedRating),this.ratingSelected=!0):this.$emit("current-rating",this.currentRating)}},resetRating:function(){this.readOnly||(this.currentRating=this.selectedRating,this.createStars(this.shouldRound))},createStars:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&this.round();for(var t=0;t<this.maxRating;t++){var i=0;t<this.currentRating&&(i=this.currentRating-t>1?100:100*(this.currentRating-t)),this.$set(this.fillLevel,t,Math.round(i))}},round:function(){var e=1/this.increment;this.currentRating=Math.min(this.maxRating,Math.ceil(this.currentRating*e)/e)}},computed:{formattedRating:function(){return null===this.fixedPoints?this.currentRating:this.currentRating.toFixed(this.fixedPoints)},shouldRound:function(){return this.ratingSelected||this.roundStartRating},margin:function(){return this.padding+this.borderWidth}},watch:{rating:function(e){this.currentRating=e,this.selectedRating=e,this.createStars(this.shouldRound)}}},dt=ut,vt=(i("5713"),Object(O["a"])(dt,et,tt,!1,null,"26c8f939",null)),ft=vt.exports,mt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"chat-user-container"},[i("button",{staticClass:"btn-chat",on:{click:e.toggleUserChat}},[e._v("\n    Lets Chat!\n    "),i("i",{staticClass:"far fa-comments"})]),e.isUserChatOpen?i("label",{staticClass:"info-msg"},[e._v(e._s(e.infoMsg))]):e._e(),e.isUserChatOpen?i("div",{staticClass:"chat-box",class:{"min-box":e.isMinimize}},[i("div",{staticClass:"top-line flex space-between",on:{click:function(t){return t.stopPropagation(),e.minimizeChat(t)}}},[i("label",[e._v("Chat movie: "+e._s(e.currMovie.details.name))]),i("button",{on:{click:function(t){return t.stopPropagation(),e.toggleUserChat(t)}}},[e._v("Close X")])]),e.isMinimize?e._e():i("div",{staticClass:"messages"},[e._l(e.msgs,function(t,s){return i("div",{key:s,staticClass:"message",class:e.msgClass(t)},[i("label",{staticClass:"user-name"},[e._v(e._s(t.from)+":")]),i("label",{staticClass:"user-text"},[e._v(" "+e._s(t.txt))])])}),i("form",{staticClass:"botton-line flex space-between",on:{submit:function(t){return t.preventDefault(),e.send(t)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.newMsg.txt,expression:"newMsg.txt"}],attrs:{autofocus:"",type:"text",placeholder:"Write some code.."},domProps:{value:e.newMsg.txt},on:{input:function(t){t.target.composing||e.$set(e.newMsg,"txt",t.target.value)}}}),i("button",{attrs:{type:"submit"}},[e._v("Send")])])],2)]):e._e()])},ht=[],pt=i("8055"),gt=i.n(pt),wt="",Ct=gt()(wt),bt=[],_t="Check123";function yt(e,t){Ct.emit("roomRequested",{user:t,topic:e}),Ct.on("userConnected",function(e){}),Ct.on("msg-recived",function(e){bt.push(e)})}function Mt(e){Ct.emit("post-msg",e)}function Rt(e,t){Ct.emit(e,t)}function xt(e,t){Ct.on(e,t)}var Ut=function(){return bt};function At(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{txt:e,from:_t}}var It={msgs:bt,init:yt,send:Mt,on:xt,emit:Rt,getMsgs:Ut,createEmptyMsg:At},Bt={name:"movieChat",data:function(){return{isUserChatOpen:!1,isMinimize:!1,msgs:[],newMsg:null,infoMsg:"",nickName:"omererrerer123124124523"}},created:function(){var e=this;this.newMsg=It.createEmptyMsg(),this.newMsg.from=this.currUser?this.currUser.name:"Guest-3",this.msgs=It.getMsgs();var t=this.$route.params.movieId,i=this.newMsg.from?this.newMsg.from:"Guest";It.init(t,i),It.on("userConnected",function(t){e.showInfoMsg("".concat(t," Just joined the room"))})},computed:{currUser:function(){return this.$store.state.usersModule.currUser},currMovie:function(){return this.$store.state.moviesModule.currMovie}},methods:{send:function(){It.send(this.newMsg),this.newMsg=It.createEmptyMsg(),this.newMsg.from=this.currUser?this.currUser.name:"Guest-4"},showInfoMsg:function(e){var t=this;this.infoMsg=e,setTimeout(function(){return t.infoMsg=""},3e3)},toggleUserChat:function(){this.isUserChatOpen=!this.isUserChatOpen,this.isMinimize=!1},minimizeChat:function(){this.isMinimize=!this.isMinimize},msgClass:function(e){return e.from!==this.nickName?"received":"sent"}}},kt=Bt,St=(i("55cb"),Object(O["a"])(kt,mt,ht,!1,null,"6cda4a18",null)),Et=St.exports,Ot={name:"movieDetails",data:function(){return{selectedRate:0}},created:function(){var e=this.$route.params.movieId;this.$store.dispatch({type:"moviesModule/loadMovie",movieId:e})},destroyed:function(){this.$store.commit({type:"moviesModule/setMovie",currMovie:null})},computed:{currMovie:function(){return this.$store.state.moviesModule.currMovie},detailsForShowReviews:function(){if(this.currMovie){var e={direct:"movie",id:this.currMovie._id};return e}return{err:"problem in MovieDetails page"}}},watch:{selectedRate:function(e){var t={movieId:this.currMovie._id,rate:this.selectedRate};console.log("jopa",t),this.$store.dispatch({type:"moviesModule/updateStarRate",rateDetails:t})}},methods:{},components:{ReviewList:Ze,StarRating:ft,MovieChat:Et}},Ft=Ot,Nt=(i("5c14"),Object(O["a"])(Ft,$e,Te,!1,null,"0792f0d2",null)),jt=Nt.exports,Pt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"user-profile container-movies flex column"},[e.viewUser?i("div",{staticClass:"user-details"},[i("div",{staticClass:"user-img"},[i("img",{attrs:{src:e.viewUser.userImg}})]),i("div",{staticClass:"table-container flex full"},[i("table",{staticClass:"details-table"},[i("tr",[i("td",[e._v("Name")]),i("td",[e._v(e._s(e.viewUser.name))])]),i("tr",[i("td",[e._v("Rating")]),i("td",[e._v(e._s(e.viewUser.rating))])])])]),i("div",{staticClass:"btns"},[i("div",{staticClass:"chat-link"},[i("user-chat")],1),i("div",{staticClass:"follow-link"},[i("follow-user")],1)])]):e._e(),i("div",{staticClass:"user-reviews full"},[i("review-list",{attrs:{directAndId:e.detailsForShowReviews}})],1)])},Dt=[],Lt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"chat-user-container"},[i("button",{staticClass:"btn-chat",on:{click:e.toggleUserChat}},[e._v("\n    Lets Chat!\n    "),i("i",{staticClass:"far fa-comments"})]),e.isUserChatOpen?i("div",{staticClass:"chat-box",class:{"min-box":e.isMinimize}},[i("div",{staticClass:"top-line flex space-between",on:{click:function(t){return t.stopPropagation(),e.minimizeChat(t)}}},[i("label",[e._v("Chat with EveryOne!")]),i("button",{on:{click:function(t){return t.stopPropagation(),e.toggleUserChat(t)}}},[e._v("Close X")])]),e.isMinimize?e._e():i("div",{staticClass:"messages"},[e._l(e.msgs,function(t,s){return i("div",{key:s,staticClass:"message",class:e.msgClass(t)},[i("label",{staticClass:"user-name"},[e._v(e._s(t.from)+":")]),i("label",{staticClass:"user-text"},[e._v(" "+e._s(t.txt))])])}),i("form",{staticClass:"botton-line flex space-between",on:{submit:function(t){return t.preventDefault(),e.send(t)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.newMsg.txt,expression:"newMsg.txt"}],attrs:{autofocus:"",type:"text",placeholder:"Write some code.."},domProps:{value:e.newMsg.txt},on:{input:function(t){t.target.composing||e.$set(e.newMsg,"txt",t.target.value)}}}),i("button",{attrs:{type:"submit"}},[e._v("Send")])])],2)]):e._e()])},$t=[],Tt=i("75fc"),Ht="",Gt=gt()(Ht),Yt=[],Jt=Zt();function zt(){Gt.on("chat historyMsgs",function(e){Yt.push.apply(Yt,Object(Tt["a"])(e))}),Gt.on("chat newUser",function(e){var t={from:e,processed:!1,txt:"$$$ Join The Chat $$$"};Yt.push(t)}),Gt.on("user disconnected",function(e){var t={from:e,processed:!1,txt:"*** Left The Chat ***"};Yt.push(t),console.log(Yt)}),Gt.on("chat newMsg",function(e){Jt===e.from?Yt[Yt.length-1].processed=!0:Yt.push(e)})}zt();var Qt=function(){return Yt},qt=function(e){Gt.emit("chat msgToSend",e)};function Vt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{txt:e,processed:!1,from:Jt}}function Wt(e,t){Gt.on(e,t)}function Xt(e,t){Gt.emit(e,t)}var Kt={getMsgs:Qt,send:qt,nickName:Jt,createEmptyMsg:Vt,on:Wt,emit:Xt};function Zt(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",s=0;s<e;s++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}var ei={name:"userChat",data:function(){return{isUserChatOpen:!1,isMinimize:!1,msgs:[],nickName:"omererrerer123124124523",newMsg:null}},created:function(){Kt.emit("chat joined",this.currUser.name),this.newMsg=Kt.createEmptyMsg(),this.newMsg.from=this.currUser.name,this.msgs=Kt.getMsgs(),Kt.on("chat newUser",function(e){}),Kt.on("chat historyMsgs",function(e){})},computed:{viewUser:function(){return this.$store.state.usersModule.viewUser},currUser:function(){return this.$store.state.usersModule.currUser}},methods:{msgClass:function(e){return e.from!==this.nickName?"received":"sent"},send:function(){Kt.send(this.newMsg),this.newMsg=Kt.createEmptyMsg(),this.newMsg.from=this.currUser.name},toggleUserChat:function(){this.isUserChatOpen=!this.isUserChatOpen,this.isMinimize=!1},minimizeChat:function(){this.isMinimize=!this.isMinimize}}},ti=ei,ii=(i("2987"),Object(O["a"])(ti,Lt,$t,!1,null,"042de4e3",null)),si=ii.exports,ni=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[e.isSelfProfile?i("div",{staticClass:"follow"},[i("button",{staticClass:"btn-follow",attrs:{title:"Follow User"},on:{click:e.onFollowUser}},[e._v("\n      Follow User!\n      "),i("i",{staticClass:"fas fa-user-plus"})]),e.isLogin?i("div",[e._v("Please login to follow the user...")]):e._e()]):e._e(),e.isAlreadyFollowed?i("div",[e._v("You already follow this user")]):e._e(),e.isFollowed?i("div",[e._v("The user is followed by "+e._s(e.followedByList))]):e._e(),e._v("\n  "+e._s(e.isFollowed)+"\n")])},ri=[],oi={name:"FollowUser",data:function(){return{isLogin:!1,isAlreadyFollowed:!1}},created:function(){},computed:{currUser:function(){return this.$store.state.usersModule.currUser},viewUser:function(){return this.$store.state.usersModule.viewUser},isSelfProfile:function(){return this.currUser.name!==this.viewUser.name},isFollowed:function(){if(this.viewUser){console.log("viewUser",this.viewUser.follow.followedBy);var e=JSON.parse(l()(this.viewUser.follow.followedBy));console.log(this.viewUser.name," is followed by user",e)}},followedByList:function(){return console.log("viewUser",this.viewUser.follow),this.viewUser.follow.followedBy}},methods:{onFollowUser:function(){var e=this,t=this.currUser,i=this.viewUser;if("Guest"===t.name)return this.isLogin=!this.isLogin,void setTimeout(function(){e.isLogin=!e.isLogin},2e3);var s=this.checkIfAlreadyFollow(t,i);if(!s){var n={loggedInUser:{_id:t._id,name:t.name},followedUser:{_id:i._id,name:i.name}};this.$store.dispatch({type:"usersModule/addFollower",users:n})}},checkIfAlreadyFollow:function(e,t){var i=this;if(e&&t){e=JSON.parse(l()(e.name)),t=JSON.parse(l()(t.follow.followedBy));for(var s=0;s<t.length;s++)return e===t[s]&&(this.isAlreadyFollowed=!0,console.log("already"),setTimeout(function(){i.isAlreadyFollowed=!1},3e3),!0)}}}},ai=oi,ci=(i("d1fd"),Object(O["a"])(ai,ni,ri,!1,null,null,null)),li=ci.exports,ui={name:"UserDetails",data:function(){return{isTellLogin:!1,isAlreadyFollowed:!1,isUserChatOpen:!1}},created:function(){var e=this.$route.params.userId;this.$store.dispatch({type:"usersModule/loadViewUser",userId:e})},destroyed:function(){this.$store.commit({type:"usersModule/cleanViewUser"})},computed:{viewUser:function(){return this.$store.state.usersModule.viewUser},detailsForShowReviews:function(){if(this.viewUser){var e={direct:"user",id:this.viewUser._id};return e}return{err:"problem in UserDetails page"}},currUser:function(){return this.$store.state.usersModule.currUser}},components:{ReviewList:Ze,UserChat:si,FollowUser:li}},di=ui,vi=(i("861f"),Object(O["a"])(di,Pt,Dt,!1,null,"dbd87afc",null)),fi=vi.exports,mi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("h2",[e._v("User Page")]),e.loggedInUser&&e.loggedInUser._id?i("div",{staticClass:"flex flex-col"},[i("label",{staticClass:"margin-bottom6"},[e._v("Hi "+e._s(e.loggedInUser.name)+"! You need to logout first")]),i("router-link",{attrs:{to:"/login"}},[i("button",{staticClass:"logout-btn",on:{click:e.logoutUser}},[e._v("Logout")])])],1):i("div",[i("div",{staticClass:"div-login"},[i("button",{staticClass:"go-back-btn",on:{click:e.goBack}},[e._v("Back")]),i("p",{staticClass:"margin-bottom6"},[e._v("Enter to your details")]),i("form",{staticClass:"form-login flex flex-col",on:{submit:function(t){return t.preventDefault(),e.onLogin(t)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"margin-bottom6",attrs:{required:"",autofocus:"",type:"text",placeholder:"User name"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.pass,expression:"user.pass"}],staticClass:"margin-bottom6",attrs:{required:"",type:"text",placeholder:"Password"},domProps:{value:e.user.pass},on:{input:function(t){t.target.composing||e.$set(e.user,"pass",t.target.value)}}}),i("button",{staticClass:"margin-bottom6",attrs:{type:"submit"}},[e._v("Login")])]),i("p",{staticClass:"msg-login-fail"},[e._v(e._s(e.msgFailLogin))])]),i("div",{staticClass:"div-register"},[i("p",{staticClass:"margin-bottom6"},[e._v("New here? Let's register")]),i("form",{staticClass:"form-register flex flex-col",on:{submit:function(t){return t.preventDefault(),e.onRegister(t)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.name,expression:"newUser.name"}],staticClass:"margin-bottom6",attrs:{type:"text",required:"",placeholder:"New user name"},domProps:{value:e.newUser.name},on:{input:function(t){t.target.composing||e.$set(e.newUser,"name",t.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.pass,expression:"newUser.pass"}],staticClass:"margin-bottom6",attrs:{type:"text",required:"",placeholder:"Password"},domProps:{value:e.newUser.pass},on:{input:function(t){t.target.composing||e.$set(e.newUser,"pass",t.target.value)}}}),i("button",{staticClass:"margin-bottom6",attrs:{type:"submit"}},[e._v("Register")])])])])])},hi=[],pi={name:"user",data:function(){return{user:{name:"",pass:""},newUser:{name:"",pass:""},isMsgFailLog:!1,textFailLog:""}},methods:{onLogin:function(){var e=this;this.$store.dispatch({type:"usersModule/doLogin",user:this.user}).then(function(t){t&&t._id?e.$router.go(-1):(e.textFailLog="Wrong name or password - You stay in Guest mode",e.isMsgFailLog=!0)})},onRegister:function(){var e=this;this.newUser.name&&this.newUser.pass&&this.$store.dispatch({type:"usersModule/addUser",newUser:this.newUser}).then(function(t){e.$router.go(-1)}).catch(function(e){console.log("WRONG TO register - ",e)})},logoutUser:function(){this.$store.dispatch({type:"usersModule/logoutUser"})},goBack:function(){this.$router.go(-1)}},computed:{msgFailLogin:function(){var e=this;return this.isMsgFailLog?(setTimeout(function(){e.isMsgFailLog=!1},3e3),this.textFailLog):""},loggedInUser:function(){return this.$store.state.usersModule.currUser}},components:{UserService:_}},gi=pi,wi=(i("633e"),Object(O["a"])(gi,mi,hi,!1,null,"09e63bff",null)),Ci=wi.exports;s["a"].use($["a"]);var bi=new $["a"]({routes:[{path:"/",name:"home",component:he},{path:"/about",name:"about",component:function(){return Promise.resolve().then(i.bind(null,"f820"))}},{path:"/movies",name:"movies",component:Le},{path:"/movies/details/:movieId",name:"movieDetails",component:jt},{path:"/login",name:"login",component:Ci},{path:"/user/details/:userId",name:"UserDetails",component:fi}]}),_i=i("2f62"),yi=(i("20d6"),i("795b")),Mi=i.n(yi),Ri=(i("55dd"),w.getUrl("movie")),xi=function(e){return e.data},Ui={query:Ai,getById:Ii,remove:Si,add:Bi,update:ki,updateRate:Ei};function Ai(e){var t="";return e&&(t="?name=".concat(e.name,"&category=").concat(e.category,"&sort=").concat(e.sort,"&isNew=").concat(e.isNew)),w.get("".concat(Ri).concat(t)).then(xi).catch(function(e){return e})}function Ii(e){return w.get("".concat(Ri,"/").concat(e)).then(xi)}function Bi(e){return e.movieId=_makeId(),movies.unshift(e),_saveMoviesToFile().then(function(){return e})}function ki(e){var t=movies.findIndex(function(t){return t.movieId===e.movieId});return movies.splice(t,1,e),_saveMoviesToFile().then(function(){return e})}function Si(e){var t=movies.findIndex(function(t){return t.movieId===e});return-1===t?Mi.a.reject("Not Found"):(movies.splice(t,1),_saveMoviesToFile())}function Ei(e){return console.log("rateDetails",e),new Mi.a(function(t,i){w.put(Ri,e).then(function(e){var i=e;console.log("updated movie:",i),t(i)}).catch(function(e){return e})})}var Oi={strict:!0,namespaced:!0,state:{movies:[],currMovie:null,filterBy:""},mutations:{setMovies:function(e,t){e.movies=t.serverMovies},setMovie:function(e,t){var i=t.currMovie;e.currMovie=i},updateMovieRate:function(e,t){var i=t.rateDetails,s=e.movies.findIndex(function(e){return e._id===i.movieId});e.movies[s].rank.push(i.rate)}},getters:{},actions:{loadMovies:function(e,t){var i=t.filter;return Ui.query(i).then(function(t){e.commit({type:"setMovies",serverMovies:t})}).finally(function(){console.log("FINISH ****loadMovies****")})},loadMovie:function(e,t){var i=t.movieId;return Ui.getById(i).then(function(t){e.commit({type:"setMovie",currMovie:t})})},updateStarRate:function(e,t){var i=t.rateDetails;return Ui.updateRate(i).then(function(){console.log("heeer"),e.commit({type:"updateMovieRate",rateDetails:i})})}}},Fi=Oi,Ni={strict:!0,namespaced:!0,state:{currUser:null,viewUser:null},mutations:{setCurrUser:function(e,t){e.currUser=t.user},cleanCurrUser:function(e,t){e.currUser=t.guest},setViewUser:function(e,t){e.viewUser=t.user},cleanViewUser:function(e){e.viewUser=null},setFollower:function(e,t){var i=t.users;e.currUser.follow.followAfter.push(i.loggedInUser.name),e.viewUser.follow.followedBy.push(i.followedUser.name),console.log("currUser",e.currUser.follow.followAfter),console.log("viewUser",e.viewUser.follow.followedBy)}},getters:{},actions:{doLogin:function(e,t){var i=t.user;return _.login(i).then(function(t){return e.commit({type:"setCurrUser",user:t}),t})},loadUser:function(e,t){var i=t.user;return e.commit({type:"setCurrUser",user:i})},addUser:function(e,t){var i=t.newUser;return console.log("heeeeer",i),_.singup(i).then(function(t){return e.commit({type:"setCurrUser",user:t}),"success registration"})},logoutUser:function(e){_.logout();var t=_.getGuestUser();return e.commit({type:"cleanCurrUser",guest:t})},loadViewUser:function(e,t){var i=t.userId;return _.getById(i).then(function(t){return e.commit({type:"setViewUser",user:t})})},addFollower:function(e,t){var i=t.users;return _.addFollowUser(i),e.commit({type:"setFollower",users:i})}}},ji=Ni,Pi=(i("7514"),w.getUrl("review")),Di=function(e){return e.data},Li={query:$i,getById:Gi,remove:Yi,add:Ti,update:Hi,updateRate:Ji};function $i(e){var t=e.direct,i=e.id;return w.get("".concat(Pi,"/").concat(t,"/").concat(i)).then(Di).catch(function(){return[]})}function Ti(e){e.rate={countLike:[],countDislike:[]};var t=JSON.parse(l()(e));return w.post(Pi,t).then(Di).catch(function(){return{_id:"asafasf",namee:"asfsaf"}})}function Hi(e){var t={id:e._id,txt:e.content.txt};return new Mi.a(function(i,s){w.put("".concat(Pi,"/").concat(e._id),t).then(function(e){var t=e;i(t)}).catch(function(e){return e})})}function Gi(e){var t=reviews.find(function(t){return t.reviewId===e});return t?Mi.a.resolve(t):Mi.a.reject("Unknown review")}function Yi(e){return new Mi.a(function(t,i){w.delete("".concat(Pi,"/").concat(e),e).then(function(e){console.log(e),t()}).catch(function(e){return e})})}function Ji(e){return console.log("rateDetails",e),new Mi.a(function(t,i){w.put(Pi,e).then(function(e){var i=e;console.log("updated review:",i),t(i)}).catch(function(e){return e})})}var zi={strict:!0,namespaced:!0,state:{currReviews:[]},mutations:{setReviews:function(e,t){e.currReviews=t.serverReviews},addReview:function(e,t){var i=t.addedReview;e.currReviews.unshift(i)},updateReview:function(e,t){var i=t.savedReview,s=e.currReviews.findIndex(function(e){return e.reviewId===i.reviewId});e.currReviews.splice(s,1,i)},updateReviewRate:function(e,t){var i=t.rateDetails,s=e.currReviews.findIndex(function(e){return e._id===i.reviewId});"like"===i.rateDitection?e.currReviews[s].rate.countLike.push(i.userId):e.currReviews[s].rate.countDislike.push(i.userId)},removeReview:function(e,t){var i=t.reviewId,s=e.currReviews.findIndex(function(e){return e.reviewId===i});e.currReviews.splice(s,1)}},getters:{reviews:function(e){return e.currReviews.sort(function(e,t){return t.rate.countLike.length-e.rate.countLike.length})}},actions:{loadReviews:function(e,t){var i=t.directAndId;return Li.query(i).then(function(t){e.commit({type:"setReviews",serverReviews:t})}).finally(function(){})},updateRate:function(e,t){var i=t.rateDetails;return Li.updateRate(i).then(function(){e.commit({type:"updateReviewRate",rateDetails:i})})},addReview:function(e,t){var i=t.newReview;return Li.add(i).then(function(t){e.commit({type:"addReview",addedReview:t})})},updateReviewTxt:function(e,t){var i=t.reviewToEdit;return Li.update(i).then(function(t){e.commit({type:" updateReview",savedReview:t})})},removeReview:function(e,t){var i=t.reviewId;return Li.remove(i).then(function(){e.commit({type:"removeReview",reviewId:i})})}}},Qi=zi;s["a"].use(_i["a"]);var qi=new _i["a"].Store({modules:{moviesModule:Fi,usersModule:ji,reviewsModule:Qi}}),Vi=i("9483");Object(Vi["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});i("8049");s["a"].config.productionTip=!1,new s["a"]({router:bi,store:qi,render:function(e){return e(L)}}).$mount("#app")},5713:function(e,t,i){"use strict";var s=i("fce2"),n=i.n(s);n.a},5778:function(e,t,i){e.exports=i.p+"img/popcorn3.0df4a217.png"},"59e4":function(e,t,i){},"5c14":function(e,t,i){"use strict";var s=i("cc14"),n=i.n(s);n.a},"5edc":function(e,t,i){},"633e":function(e,t,i){"use strict";var s=i("a23c"),n=i.n(s);n.a},"649c":function(e,t,i){},6586:function(e,t,i){e.exports=i.p+"img/credit.0d50b8b2.png"},"65b7":function(e,t,i){"use strict";var s=i("913d"),n=i.n(s);n.a},"6b35":function(e,t,i){e.exports=i.p+"img/apollo11.1436d27d.jpg"},"70c1":function(e,t,i){"use strict";var s=i("f65d"),n=i.n(s);n.a},7948:function(e,t,i){"use strict";var s=i("649c"),n=i.n(s);n.a},8049:function(e,t,i){},"861f":function(e,t,i){"use strict";var s=i("fddc"),n=i.n(s);n.a},"895b":function(e,t){e.exports="data:image/png;base64,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"},"913d":function(e,t,i){},9863:function(e,t,i){e.exports=i.p+"img/clapper4.4df7b917.png"},"9ba4":function(e,t,i){},a23c:function(e,t,i){},a2f9:function(e,t,i){"use strict";var s=i("db5a"),n=i.n(s);n.a},b24a:function(e,t,i){},b2b7:function(e,t,i){},b396:function(e,t,i){},bcc9:function(e,t,i){},c085:function(e,t,i){},cc14:function(e,t,i){},d1fd:function(e,t,i){"use strict";var s=i("4d29"),n=i.n(s);n.a},d5f3:function(e,t,i){e.exports=i.p+"img/people3.db154834.png"},db5a:function(e,t,i){},dbfd:function(e,t,i){e.exports=i.p+"img/credit3.2e9c3e83.png"},de93:function(e,t,i){"use strict";var s=i("b2b7"),n=i.n(s);n.a},e5bd:function(e,t,i){"use strict";var s=i("f5ff"),n=i.n(s);n.a},f0a1:function(e,t,i){"use strict";var s=i("29fb"),n=i.n(s);n.a},f45d:function(e,t,i){e.exports=i.p+"img/screenwriter3.182b3c66.png"},f5ff:function(e,t,i){},f65d:function(e,t,i){},f7a8:function(e,t,i){e.exports=i.p+"img/Ish oushmo Ove.f9c60726.jpg"},f820:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"about-page"},[s("main",[s("img",{attrs:{src:i("6586")}}),s("img",{attrs:{src:i("dbfd")}})])])}],r=(i("3bf6"),i("2877")),o={},a=Object(r["a"])(o,s,n,!1,null,"a569800a",null);t["default"]=a.exports},fce2:function(e,t,i){},fddc:function(e,t,i){}});
//# sourceMappingURL=app.48adb315.js.map